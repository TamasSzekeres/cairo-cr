<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.36.1">
<meta name="crystal_docs.project_version" content="master">
<meta name="crystal_docs.project_name" content="cairo">



<link href="../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../js/doc.js"></script>

  <meta name="repository-name" content="cairo">
  <title>Cairo::Surface - cairo master</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "../";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="../index.html">
          cairo
        </a>
      </h1>

      <span class="project-version">
        master
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="cairo/Cairo" data-name="cairo">
      <a href="../Cairo.html">Cairo</a>
      
        <ul>
  
  <li class=" " data-id="cairo/Cairo/Antialias" data-name="cairo::antialias">
      <a href="../Cairo/Antialias.html">Antialias</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/C" data-name="cairo::c">
      <a href="../Cairo/C.html">C</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/ColorStop" data-name="cairo::colorstop">
      <a href="../Cairo/ColorStop.html">ColorStop</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Content" data-name="cairo::content">
      <a href="../Cairo/Content.html">Content</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Context" data-name="cairo::context">
      <a href="../Cairo/Context.html">Context</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Device" data-name="cairo::device">
      <a href="../Cairo/Device.html">Device</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/DeviceType" data-name="cairo::devicetype">
      <a href="../Cairo/DeviceType.html">DeviceType</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Extend" data-name="cairo::extend">
      <a href="../Cairo/Extend.html">Extend</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Extents" data-name="cairo::extents">
      <a href="../Cairo/Extents.html">Extents</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/FillRule" data-name="cairo::fillrule">
      <a href="../Cairo/FillRule.html">FillRule</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Filter" data-name="cairo::filter">
      <a href="../Cairo/Filter.html">Filter</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/FontExtents" data-name="cairo::fontextents">
      <a href="../Cairo/FontExtents.html">FontExtents</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/FontFace" data-name="cairo::fontface">
      <a href="../Cairo/FontFace.html">FontFace</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/FontOptions" data-name="cairo::fontoptions">
      <a href="../Cairo/FontOptions.html">FontOptions</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/FontSlant" data-name="cairo::fontslant">
      <a href="../Cairo/FontSlant.html">FontSlant</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/FontType" data-name="cairo::fonttype">
      <a href="../Cairo/FontType.html">FontType</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/FontWeight" data-name="cairo::fontweight">
      <a href="../Cairo/FontWeight.html">FontWeight</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Format" data-name="cairo::format">
      <a href="../Cairo/Format.html">Format</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Glyph" data-name="cairo::glyph">
      <a href="../Cairo/Glyph.html">Glyph</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/GlyphArray" data-name="cairo::glypharray">
      <a href="../Cairo/GlyphArray.html">GlyphArray</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/HintMetrics" data-name="cairo::hintmetrics">
      <a href="../Cairo/HintMetrics.html">HintMetrics</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/HintStyle" data-name="cairo::hintstyle">
      <a href="../Cairo/HintStyle.html">HintStyle</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/LineCap" data-name="cairo::linecap">
      <a href="../Cairo/LineCap.html">LineCap</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/LineJoin" data-name="cairo::linejoin">
      <a href="../Cairo/LineJoin.html">LineJoin</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Matrix" data-name="cairo::matrix">
      <a href="../Cairo/Matrix.html">Matrix</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Operator" data-name="cairo::operator">
      <a href="../Cairo/Operator.html">Operator</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Path" data-name="cairo::path">
      <a href="../Cairo/Path.html">Path</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PathData" data-name="cairo::pathdata">
      <a href="../Cairo/PathData.html">PathData</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PathDataHeader" data-name="cairo::pathdataheader">
      <a href="../Cairo/PathDataHeader.html">PathDataHeader</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PathDataType" data-name="cairo::pathdatatype">
      <a href="../Cairo/PathDataType.html">PathDataType</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Pattern" data-name="cairo::pattern">
      <a href="../Cairo/Pattern.html">Pattern</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PatternType" data-name="cairo::patterntype">
      <a href="../Cairo/PatternType.html">PatternType</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PdfMetadata" data-name="cairo::pdfmetadata">
      <a href="../Cairo/PdfMetadata.html">PdfMetadata</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PdfOutlineFlags" data-name="cairo::pdfoutlineflags">
      <a href="../Cairo/PdfOutlineFlags.html">PdfOutlineFlags</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PdfSurface" data-name="cairo::pdfsurface">
      <a href="../Cairo/PdfSurface.html">PdfSurface</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PdfVersion" data-name="cairo::pdfversion">
      <a href="../Cairo/PdfVersion.html">PdfVersion</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Point" data-name="cairo::point">
      <a href="../Cairo/Point.html">Point</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PsLevel" data-name="cairo::pslevel">
      <a href="../Cairo/PsLevel.html">PsLevel</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PsSurface" data-name="cairo::pssurface">
      <a href="../Cairo/PsSurface.html">PsSurface</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Rectangle" data-name="cairo::rectangle">
      <a href="../Cairo/Rectangle.html">Rectangle</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/RectangleInt" data-name="cairo::rectangleint">
      <a href="../Cairo/RectangleInt.html">RectangleInt</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/RectangleList" data-name="cairo::rectanglelist">
      <a href="../Cairo/RectangleList.html">RectangleList</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Region" data-name="cairo::region">
      <a href="../Cairo/Region.html">Region</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/RegionOverlap" data-name="cairo::regionoverlap">
      <a href="../Cairo/RegionOverlap.html">RegionOverlap</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/RGBA" data-name="cairo::rgba">
      <a href="../Cairo/RGBA.html">RGBA</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/ScaledFont" data-name="cairo::scaledfont">
      <a href="../Cairo/ScaledFont.html">ScaledFont</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Script" data-name="cairo::script">
      <a href="../Cairo/Script.html">Script</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/ScriptInterpreter" data-name="cairo::scriptinterpreter">
      <a href="../Cairo/ScriptInterpreter.html">ScriptInterpreter</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/ScriptMode" data-name="cairo::scriptmode">
      <a href="../Cairo/ScriptMode.html">ScriptMode</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Status" data-name="cairo::status">
      <a href="../Cairo/Status.html">Status</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/StatusException" data-name="cairo::statusexception">
      <a href="../Cairo/StatusException.html">StatusException</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/SubpixelOrder" data-name="cairo::subpixelorder">
      <a href="../Cairo/SubpixelOrder.html">SubpixelOrder</a>
      
    </li>
  
  <li class=" current" data-id="cairo/Cairo/Surface" data-name="cairo::surface">
      <a href="../Cairo/Surface.html">Surface</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/SurfaceObserverMode" data-name="cairo::surfaceobservermode">
      <a href="../Cairo/SurfaceObserverMode.html">SurfaceObserverMode</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/SurfaceType" data-name="cairo::surfacetype">
      <a href="../Cairo/SurfaceType.html">SurfaceType</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/SvgSurface" data-name="cairo::svgsurface">
      <a href="../Cairo/SvgSurface.html">SvgSurface</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/SvgUnit" data-name="cairo::svgunit">
      <a href="../Cairo/SvgUnit.html">SvgUnit</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/SvgVersion" data-name="cairo::svgversion">
      <a href="../Cairo/SvgVersion.html">SvgVersion</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/TeeSurface" data-name="cairo::teesurface">
      <a href="../Cairo/TeeSurface.html">TeeSurface</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/TextCluster" data-name="cairo::textcluster">
      <a href="../Cairo/TextCluster.html">TextCluster</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/TextClusterArray" data-name="cairo::textclusterarray">
      <a href="../Cairo/TextClusterArray.html">TextClusterArray</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/TextClusterFlags" data-name="cairo::textclusterflags">
      <a href="../Cairo/TextClusterFlags.html">TextClusterFlags</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/TextExtents" data-name="cairo::textextents">
      <a href="../Cairo/TextExtents.html">TextExtents</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/UserDataKey" data-name="cairo::userdatakey">
      <a href="../Cairo/UserDataKey.html">UserDataKey</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/XlibSurface" data-name="cairo::xlibsurface">
      <a href="../Cairo/XlibSurface.html">XlibSurface</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> Cairo::Surface

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../Cairo/Surface.html">Cairo::Surface</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p><code><a href="../Cairo/Surface.html">Surface</a></code> is the abstract type representing all different drawing targets that cairo can render to.
The actual drawings are performed using a cairo context.</p>

<p>A cairo surface is created by using backend-specific constructors, typically of the form <code>Surface#initialize</code>.</p>

<p>Most surface types allow accessing the surface without using Cairo functions.
If you do this, keep in mind that it is mandatory that you call <code><a href="../Cairo/Surface.html#flush-instance-method">Surface#flush</a></code> before
reading from or writing to the surface and that you must use <code><a href="../Cairo/Surface.html#mark_dirty-instance-method">Surface#mark_dirty</a></code> after modifying it.</p>

<p><span class="flag purple">NOTE</span>  that for other surface types it might be necessary to acquire the surface's device first.
See <code><a href="../Cairo/Device.html#acquire:Status-instance-method">Device#acquire</a></code> for a discussion of devices.</p>

<p>A <code><a href="../Cairo/Surface.html">Surface</a></code> represents an image, either as the destination of a drawing operation or as source when drawing onto another surface.
To draw to a <code><a href="../Cairo/Surface.html">Surface</a></code>, create a cairo context with the surface as the target, using <code>Context#create(Surface)</code>.</p>

<p>There are different subtypes of <code><a href="../Cairo/Surface.html">Surface</a></code> for different drawing backends; for example,
<code>Surface#initialize(Format, Int32, Int32)</code> creates a bitmap image in memory.
The type of a surface can be queried with <code><a href="../Cairo/Surface.html#type:SurfaceType-instance-method">Surface#type</a></code>.</p>

<p>The initial contents of a surface after creation depend upon the manner of its creation.
If cairo creates the surface and backing storage for the user, it will be initially cleared;
for example, <code>Surface#initialize(Format, Int32, Int32)</code> and <code><a href="../Cairo/Surface.html#create_similar(content:Content,width:Int32,height:Int32):Surface-instance-method">Surface#create_similar</a></code>.
Alternatively, if the user passes in a reference to some backing storage and asks cairo to wrap
that in a <code><a href="../Cairo/Surface.html">Surface</a></code>, then the contents are not modified; for example,
<code>Surface#initialize(Bytes, Format, Int32, Int32, Int32)</code> and <code>XlibSurface#initialize</code>.</p>

<p>Memory management of <code><a href="../Cairo/Surface.html">Surface</a></code> is done with <code><a href="../Cairo/Surface.html#reference:Surface-instance-method">Surface#reference</a></code> and <code><a href="../Cairo/Surface.html#finalize-instance-method">Surface#finalize</a></code>.</p>









  <h2>
    <a id="direct-known-subclasses" class="anchor" href="#direct-known-subclasses">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Direct Known Subclasses
  </h2>
  <ul class="other-types-list">
    
      <li class="other-type"><a href="../Cairo/PdfSurface.html">Cairo::PdfSurface</a></li>
    
      <li class="other-type"><a href="../Cairo/PsSurface.html">Cairo::PsSurface</a></li>
    
      <li class="other-type"><a href="../Cairo/SvgSurface.html">Cairo::SvgSurface</a></li>
    
      <li class="other-type"><a href="../Cairo/TeeSurface.html">Cairo::TeeSurface</a></li>
    
      <li class="other-type"><a href="../Cairo/XlibSurface.html">Cairo::XlibSurface</a></li>
    
  </ul>






  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L35" target="_blank">
        cairo/surface.cr
      </a>
    
    <br/>
  





  <h2>
    <a id="constructors" class="anchor" href="#constructors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructors
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new(data:Bytes,format:Format,width:Int32,height:Int32,stride:Int32)-class-method" class="signature"><strong>.new</strong>(data : Bytes, format : Format, width : Int32, height : Int32, stride : Int32)</a>
        
          <div class="summary"><p>Creates an image surface for the provided pixel data.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#new(format:Format,width:Int32,height:Int32)-class-method" class="signature"><strong>.new</strong>(format : Format, width : Int32, height : Int32)</a>
        
          <div class="summary"><p>Creates an image surface of the specified format and dimensions.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#new(read_func:LibCairo::ReadFuncT,closure:Pointer(Void))-class-method" class="signature"><strong>.new</strong>(read_func : LibCairo::ReadFuncT, closure : Pointer(Void))</a>
        
          <div class="summary"><p>Creates a new image surface from PNG data read incrementally via the <em>read_func</em> function.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#new(content:Content,extents:Rectangle?)-class-method" class="signature"><strong>.new</strong>(content : Content, extents : Rectangle?)</a>
        
          <div class="summary"><p>Creates a recording-surface which can be used to record all drawing operations at the highest level (that is, the level of paint, mask, stroke, fill and show_text_glyphs).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#new(surface:LibCairo::PSurfaceT)-class-method" class="signature"><strong>.new</strong>(surface : LibCairo::PSurfaceT)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#new(filename:String)-class-method" class="signature"><strong>.new</strong>(filename : String)</a>
        
          <div class="summary"><p>Creates a new image surface and initializes the contents to the given PNG file.</p></div>
        
      </li>
    
  </ul>





  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#content:Content-instance-method" class="signature"><strong>#content</strong> : Content</a>
        
          <div class="summary"><p>This function returns the content type of surface which indicates whether the surface contains color and/or alpha information.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#copy_page-instance-method" class="signature"><strong>#copy_page</strong></a>
        
          <div class="summary"><p>Emits the current page for backends that support multiple pages, but doesn't clear it, so that the contents of the current page will be retained for the next page.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#create_for_rectangle(x:Float64,y:Float64,width:Float64,height:Float64):Surface-instance-method" class="signature"><strong>#create_for_rectangle</strong>(x : Float64, y : Float64, width : Float64, height : Float64) : Surface</a>
        
          <div class="summary"><p>Create a new surface that is a rectangle within the target surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#create_observer(mode:SurfaceObserverMode):Surface-instance-method" class="signature"><strong>#create_observer</strong>(mode : SurfaceObserverMode) : Surface</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#create_similar(content:Content,width:Int32,height:Int32):Surface-instance-method" class="signature"><strong>#create_similar</strong>(content : Content, width : Int32, height : Int32) : Surface</a>
        
          <div class="summary"><p>Create a new surface that is as compatible as possible with an existing surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#create_similar_image(format:Format,width:Int32,height:Int32):Surface-instance-method" class="signature"><strong>#create_similar_image</strong>(format : Format, width : Int32, height : Int32) : Surface</a>
        
          <div class="summary"><p>Create a new image surface that is as compatible as possible for uploading to and the use in conjunction with an existing surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#data:Pointer(UInt8)-instance-method" class="signature"><strong>#data</strong> : Pointer(UInt8)</a>
        
          <div class="summary"><p>Get a pointer to the data of the image surface, for direct inspection or modification.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#device:Device-instance-method" class="signature"><strong>#device</strong> : Device</a>
        
          <div class="summary"><p>This function returns the device for a surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#device_offset:Point-instance-method" class="signature"><strong>#device_offset</strong> : Point</a>
        
          <div class="summary"><p>This function returns the previous device offset set by <code><a href="../Cairo/Surface.html#device_offset=(offset:Point)-instance-method">Surface#device_offset=</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#device_offset=(offset:Point)-instance-method" class="signature"><strong>#device_offset=</strong>(offset : Point)</a>
        
          <div class="summary"><p>Sets an offset that is added to the device coordinates determined by the CTM when drawing to surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#device_scale:Point-instance-method" class="signature"><strong>#device_scale</strong> : Point</a>
        
          <div class="summary"><p>This function returns the previous device offset set by <code><a href="../Cairo/Surface.html#device_scale=(scale:Point)-instance-method">Surface#device_scale=</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#device_scale=(scale:Point)-instance-method" class="signature"><strong>#device_scale=</strong>(scale : Point)</a>
        
          <div class="summary"><p>Sets a scale that is multiplied to the device coordinates determined by the CTM when drawing to surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#extents:NamedTuple()-instance-method" class="signature"><strong>#extents</strong> : NamedTuple()</a>
        
          <div class="summary"><p>Get the extents of the recording-surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#fallback_resolution:Point-instance-method" class="signature"><strong>#fallback_resolution</strong> : Point</a>
        
          <div class="summary"><p>This function returns the previous fallback resolution set by <code><a href="../Cairo/Surface.html#fallback_resolution=(res:Point)-instance-method">Surface#fallback_resolution=</a></code>, or default fallback resolution if never set.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#fallback_resolution=(res:Point)-instance-method" class="signature"><strong>#fallback_resolution=</strong>(res : Point)</a>
        
          <div class="summary"><p>Set the horizontal and vertical resolution for image fallbacks.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#finalize-instance-method" class="signature"><strong>#finalize</strong></a>
        
          <div class="summary"><p>Decreases the reference count on surface by one.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#finish-instance-method" class="signature"><strong>#finish</strong></a>
        
          <div class="summary"><p>This function finishes the surface and drops all references to external resources.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#flush-instance-method" class="signature"><strong>#flush</strong></a>
        
          <div class="summary"><p>Do any pending drawing for the surface and also restore any temporary modifications cairo has made to the surface's state.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#font_options:FontOptions-instance-method" class="signature"><strong>#font_options</strong> : FontOptions</a>
        
          <div class="summary"><p>Retrieves the default font rendering options for the surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#format:Format-instance-method" class="signature"><strong>#format</strong> : Format</a>
        
          <div class="summary"><p>Get the format of the surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#has_show_text_glyphs?:Bool-instance-method" class="signature"><strong>#has_show_text_glyphs?</strong> : Bool</a>
        
          <div class="summary"><p>Returns whether the surface supports sophisticated <code><a href="../Cairo/Context.html#show_text_glyphs(text:String,glyphs:GlyphArray,clusters:TextClusterArray,cluster_flags:TextClusterFlags)-instance-method">Context#show_text_glyphs</a></code> operations.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#height:Int32-instance-method" class="signature"><strong>#height</strong> : Int32</a>
        
          <div class="summary"><p>Get the height of the image surface in pixels.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#ink_extents:Rectangle-instance-method" class="signature"><strong>#ink_extents</strong> : Rectangle</a>
        
          <div class="summary"><p>Measures the extents of the operations stored within the recording-surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#map_to_image(extents:RectangleInt?):Surface-instance-method" class="signature"><strong>#map_to_image</strong>(extents : RectangleInt?) : Surface</a>
        
          <div class="summary"><p>Returns an image surface that is the most efficient mechanism for modifying the backing store of the target surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#mark_dirty-instance-method" class="signature"><strong>#mark_dirty</strong></a>
        
          <div class="summary"><p>Tells cairo that drawing has been done to surface using means other than cairo, and that cairo should reread any cached areas.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#mark_dirty_rectangle(x:Int32,y:Int32,width:Int32,height:Int32)-instance-method" class="signature"><strong>#mark_dirty_rectangle</strong>(x : Int32, y : Int32, width : Int32, height : Int32)</a>
        
          <div class="summary"><p>Like <code><a href="../Cairo/Surface.html#mark_dirty-instance-method">Surface#mark_dirty</a></code>, but drawing has been done only to the specified rectangle, so that cairo can retain cached contents for other parts of the surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#mime_data(mime_type:String):Bytes-instance-method" class="signature"><strong>#mime_data</strong>(mime_type : String) : Bytes</a>
        
          <div class="summary"><p>Return mime data previously attached to surface using the specified mime type.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_add_fill_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method" class="signature"><strong>#observer_add_fill_callback</strong>(func : LibCairo::SurfaceObserverCallbackT, data : Pointer(Void)) : Status</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_add_finish_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method" class="signature"><strong>#observer_add_finish_callback</strong>(func : LibCairo::SurfaceObserverCallbackT, data : Pointer(Void)) : Status</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_add_flush_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method" class="signature"><strong>#observer_add_flush_callback</strong>(func : LibCairo::SurfaceObserverCallbackT, data : Pointer(Void)) : Status</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_add_glyphs_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method" class="signature"><strong>#observer_add_glyphs_callback</strong>(func : LibCairo::SurfaceObserverCallbackT, data : Pointer(Void)) : Status</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_add_mask_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method" class="signature"><strong>#observer_add_mask_callback</strong>(func : LibCairo::SurfaceObserverCallbackT, data : Pointer(Void)) : Status</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_add_paint_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method" class="signature"><strong>#observer_add_paint_callback</strong>(func : LibCairo::SurfaceObserverCallbackT, data : Pointer(Void)) : Status</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_add_stroke_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method" class="signature"><strong>#observer_add_stroke_callback</strong>(func : LibCairo::SurfaceObserverCallbackT, data : Pointer(Void)) : Status</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_elapsed:Float64-instance-method" class="signature"><strong>#observer_elapsed</strong> : Float64</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_print(write_func:LibCairo::WriteFuncT,closure:Pointer(Void)):Status-instance-method" class="signature"><strong>#observer_print</strong>(write_func : LibCairo::WriteFuncT, closure : Pointer(Void)) : Status</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#reference:Surface-instance-method" class="signature"><strong>#reference</strong> : Surface</a>
        
          <div class="summary"><p>Increases the reference count on surface by one.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#reference_count:UInt32-instance-method" class="signature"><strong>#reference_count</strong> : UInt32</a>
        
          <div class="summary"><p>Returns the current reference count of surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#set_device_offset(x_offset:Float64,y_offset:Float64)-instance-method" class="signature"><strong>#set_device_offset</strong>(x_offset : Float64, y_offset : Float64)</a>
        
          <div class="summary"><p>Sets an offset that is added to the device coordinates determined by the CTM when drawing to surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#set_device_scale(x_scale:Float64,y_scale:Float64)-instance-method" class="signature"><strong>#set_device_scale</strong>(x_scale : Float64, y_scale : Float64)</a>
        
          <div class="summary"><p>Sets a scale that is multiplied to the device coordinates determined by the CTM when drawing to <code><a href="../Cairo/Surface.html">Surface</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#set_fallback_resolution(x_pixels_per_inch:Float64,y_pixels_per_inch:Float64)-instance-method" class="signature"><strong>#set_fallback_resolution</strong>(x_pixels_per_inch : Float64, y_pixels_per_inch : Float64)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#set_mime_data(mime_type:String,data:Bytes,destroy:LibCairo::DestroyFuncT,closure:Pointer(Void)):Status-instance-method" class="signature"><strong>#set_mime_data</strong>(mime_type : String, data : Bytes, destroy : LibCairo::DestroyFuncT, closure : Pointer(Void)) : Status</a>
        
          <div class="summary"><p>Attach an image in the format <em>mime_type</em> to surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#set_user_data(key:UserDataKey,user_data:Pointer(Void),destroy:LibCairo::DestroyFuncT):Status-instance-method" class="signature"><strong>#set_user_data</strong>(key : UserDataKey, user_data : Pointer(Void), destroy : LibCairo::DestroyFuncT) : Status</a>
        
          <div class="summary"><p>Attach user data to surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#status:Status-instance-method" class="signature"><strong>#status</strong> : Status</a>
        
          <div class="summary"><p>Checks whether an error has previously occurred for this surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#stride:Int32-instance-method" class="signature"><strong>#stride</strong> : Int32</a>
        
          <div class="summary"><p>Get the stride of the image surface in bytes.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#supports_mime_type?(mime_type:String):Bool-instance-method" class="signature"><strong>#supports_mime_type?</strong>(mime_type : String) : Bool</a>
        
          <div class="summary"><p>Return whether surface supports <em>mime_type</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#surface_show_page-instance-method" class="signature"><strong>#surface_show_page</strong></a>
        
          <div class="summary"><p>Emits and clears the current page for backends that support multiple pages.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_unsafe:LibCairo::PSurfaceT-instance-method" class="signature"><strong>#to_unsafe</strong> : LibCairo::PSurfaceT</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#type:SurfaceType-instance-method" class="signature"><strong>#type</strong> : SurfaceType</a>
        
          <div class="summary"><p>This function returns the type of the backend used to create a surface.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#unmap_image(image:Surface)-instance-method" class="signature"><strong>#unmap_image</strong>(image : Surface)</a>
        
          <div class="summary"><p>Unmaps the image surface as returned from <code><a href="../Cairo/Surface.html#map_to_image(extents:RectangleInt?):Surface-instance-method">Surface#map_to_image</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#user_data(key:UserDataKey):Pointer(Void)-instance-method" class="signature"><strong>#user_data</strong>(key : UserDataKey) : Pointer(Void)</a>
        
          <div class="summary"><p>Return user data previously attached to surface using the specified key.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#width:Int32-instance-method" class="signature"><strong>#width</strong> : Int32</a>
        
          <div class="summary"><p>Get the width of the image surface in pixels.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#write_to_png(filename:String):Status-instance-method" class="signature"><strong>#write_to_png</strong>(filename : String) : Status</a>
        
          <div class="summary"><p>Writes the contents of surface to a new file filename as a PNG image.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#write_to_png_stream(write_func:LibCairo::WriteFuncT,closure:Pointer(Void)):Status-instance-method" class="signature"><strong>#write_to_png_stream</strong>(write_func : LibCairo::WriteFuncT, closure : Pointer(Void)) : Status</a>
        
          <div class="summary"><p>Writes the image surface to the write function.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>


  <h2>
    <a id="constructor-detail" class="anchor" href="#constructor-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructor Detail
  </h2>
  
    <div class="entry-detail" id="new(data:Bytes,format:Format,width:Int32,height:Int32,stride:Int32)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(data : Bytes, format : <a href="../Cairo/Format.html">Format</a>, width : Int32, height : Int32, stride : Int32)

        <a class="method-permalink" href="#new(data:Bytes,format:Format,width:Int32,height:Int32,stride:Int32)-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Creates an image surface for the provided pixel data. The output buffer
must be kept around until the <code><a href="../Cairo/Surface.html">Surface</a></code> is destroyed or <code><a href="../Cairo/Surface.html#finish-instance-method">Surface#finish</a></code>
is called on the surface. The initial contents of data will be used as
the initial image contents; you must explicitly clear the buffer, using,
for example, <code><a href="../Cairo/Context.html#rectangle(x:Float64,y:Float64,width:Float64,height:Float64)-instance-method">Context#rectangle</a></code> and <code><a href="../Cairo/Context.html#fill-instance-method">Context#fill</a></code> if you want it cleared.</p>

<p><span class="flag purple">NOTE</span>  that the stride may be larger than <code>width * bytes_per_pixel</code> to
provide proper alignment for each pixel and row. This alignment is
required to allow high-performance rendering within cairo. The correct
way to obtain a legal stride value is to call <code><a href="../Cairo/Format.html#stride_for_width(width:Int32):Int32-instance-method">Format#stride_for_width</a></code>
with the desired format and maximum image width value, and then use the
resulting stride value to allocate the data and to create the image surface.
See <code><a href="../Cairo/Format.html#stride_for_width(width:Int32):Int32-instance-method">Format#stride_for_width</a></code> for example code.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>data</strong> a pointer to a buffer supplied by the application in which to
write contents. This pointer must be suitably aligned for any kind of variable.</li><li><strong>format</strong> the format of pixels in the buffer</li><li><strong>width</strong> the width of the image to be stored in the buffer</li><li><strong>height</strong> the height of the image to be stored in the buffer</li><li><strong>stride</strong> the number of bytes between the start of rows in the
buffer as allocated. This value should always be computed by <code><a href="../Cairo/Format.html#stride_for_width(width:Int32):Int32-instance-method">Format#stride_for_width</a></code>
before allocating the data buffer.</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A pointer to the newly created surface. The caller owns the surface and
should call <code><a href="../Cairo/Surface.html#finalize-instance-method">Surface#finalize</a></code> when done with it.</p>

<p>This function always returns a valid pointer, but it will return a
pointer to a "nil" surface in the case of an error such as out of memory
or an invalid stride value. In case of invalid stride value the error
status of the returned surface will be <code><a href="../Cairo/Status.html#InvalidStride">Status::InvalidStride</a></code>.
You can use <code><a href="../Cairo/Surface.html#status:Status-instance-method">Surface#status</a></code> to check for this.</p>

<p>See <code><a href="../Cairo/Surface.html#set_user_data(key:UserDataKey,user_data:Pointer(Void),destroy:LibCairo::DestroyFuncT):Status-instance-method">Surface#set_user_data</a></code> for a means of attaching a
destroy-notification fallback to the surface if necessary.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L98" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="new(format:Format,width:Int32,height:Int32)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(format : <a href="../Cairo/Format.html">Format</a>, width : Int32, height : Int32)

        <a class="method-permalink" href="#new(format:Format,width:Int32,height:Int32)-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Creates an image surface of the specified format and dimensions.
Initially the surface contents are set to 0. (Specifically, within each pixel,
each color or alpha channel belonging to format will be 0. The contents of
bits within a pixel, but not belonging to the given format are undefined).</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>format</strong> format of pixels in the surface to create</li><li><strong>width</strong> width of the surface, in pixels</li><li><strong>height</strong> height of the surface, in pixels</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A pointer to the newly created surface. The caller owns the surface and
should call `Surface#finalize when done with it.</p>

<p>This function always returns a valid pointer, but it will return a pointer
to a "nil" surface if an error such as out of memory occurs.
You can use <code><a href="../Cairo/Surface.html#status:Status-instance-method">Surface#status</a></code> to check for this.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L58" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="new(read_func:LibCairo::ReadFuncT,closure:Pointer(Void))-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(read_func : LibCairo::ReadFuncT, closure : Pointer(Void))

        <a class="method-permalink" href="#new(read_func:LibCairo::ReadFuncT,closure:Pointer(Void))-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Creates a new image surface from PNG data read incrementally via the
<em>read_func</em> function.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>read_func</strong> function called to read the data of the file</li><li><strong>closure</strong> data to pass to <em>read_func</em>.</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A new <code><a href="../Cairo/Surface.html">Surface</a></code> initialized with the contents of the PNG file or a "nil"
surface if the data read is not a valid PNG image or memory could not be
allocated for the operation. A nil surface can be checked for with
<code><a href="../Cairo/Surface.html#status:Status-instance-method">Surface#status</a></code> which may return one of the following values:</p>

<p><code>Status#NoMemory</code> <code>Status#ReadError</code> <code>Status#PngError</code></p>

<p>Alternatively, you can allow errors to propagate through the drawing
operations and check the status on the context upon completion
using <code><a href="../Cairo/Context.html#status:Status-instance-method">Context#status</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L103" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="new(content:Content,extents:Rectangle?)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(content : <a href="../Cairo/Content.html">Content</a>, extents : <a href="../Cairo/Rectangle.html">Rectangle</a>?)

        <a class="method-permalink" href="#new(content:Content,extents:Rectangle?)-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Creates a recording-surface which can be used to record all drawing
operations at the highest level (that is, the level of paint, mask,
stroke, fill and show_text_glyphs). The recording surface can then be
"replayed" against any target surface by using it as a source
to drawing operations.</p>

<p>The recording phase of the recording surface is careful to snapshot all
necessary objects (paths, patterns, etc.), in order to achieve accurate replay.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>content</strong> the content of the recording surface</li><li><strong>extents</strong> the extents to record in pixels, can be <code>nil</code> to record unbounded operations.</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A pointer to the newly created surface. The caller owns the surface and should
call <code><a href="../Cairo/Surface.html#finalize-instance-method">Surface#finalize</a></code> when done with it.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L148" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="new(surface:LibCairo::PSurfaceT)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(surface : LibCairo::PSurfaceT)

        <a class="method-permalink" href="#new(surface:LibCairo::PSurfaceT)-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L36" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="new(filename:String)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(filename : String)

        <a class="method-permalink" href="#new(filename:String)-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Creates a new image surface and initializes the contents to the given PNG file.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>filename</strong> name of PNG file to load. On Windows this filename is encoded in UTF-8.</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A new <code><a href="../Cairo/Surface.html">Surface</a></code> initialized with the contents of the PNG file,
or a "nil" surface if any error occurred. A nil surface can be checked
for with <code><a href="../Cairo/Surface.html#status:Status-instance-method">Surface#status</a></code> which may return one of the following values:</p>

<p><code>Status#NoMemory</code> <code>Status#FileNotFound</code> <code>Status#ReadError</code> <code>Status#PngError</code></p>

<p>Alternatively, you can allow errors to propagate through the drawing
operations and check the status on the context upon completion using
<code><a href="../Cairo/Context.html#status:Status-instance-method">Context#status</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L103" target="_blank">View source</a>]
        
      </div>
    </div>
  





  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="content:Content-instance-method">
      <div class="signature">
        
        def <strong>content</strong> : <a href="../Cairo/Content.html">Content</a>

        <a class="method-permalink" href="#content:Content-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>This function returns the content type of surface which indicates whether the
surface contains color and/or alpha information. See <code><a href="../Cairo/Content.html">Content</a></code>.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The content type of surface.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L398" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="copy_page-instance-method">
      <div class="signature">
        
        def <strong>copy_page</strong>

        <a class="method-permalink" href="#copy_page-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Emits the current page for backends that support multiple pages, but doesn't clear it,
so that the contents of the current page will be retained for the next page.
Use <code>Surface#show_page</code> if you want to get an empty page after the emission.</p>

<p>There is a convenience function for this that takes a <code><a href="../Cairo/Context.html">Context</a></code>, namely <code><a href="../Cairo/Context.html#copy_page-instance-method">Context#copy_page</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L700" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="create_for_rectangle(x:Float64,y:Float64,width:Float64,height:Float64):Surface-instance-method">
      <div class="signature">
        
        def <strong>create_for_rectangle</strong>(x : Float64, y : Float64, width : Float64, height : Float64) : <a href="../Cairo/Surface.html">Surface</a>

        <a class="method-permalink" href="#create_for_rectangle(x:Float64,y:Float64,width:Float64,height:Float64):Surface-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Create a new surface that is a rectangle within the target surface.</p>

<p>All operations drawn to this surface are then clipped and translated onto the target surface.
Nothing drawn via this sub-surface outside of its bounds is drawn onto the target surface,
making this a useful method for passing constrained child surfaces to library routines that draw
directly onto the parent surface, i.e. with no further backend allocations, double buffering or copies.</p>

<p>The semantics of subsurfaces have not been finalized yet unless the rectangle is in full device units,
is contained within the extents of the target surface, and the target or subsurface's device transforms are not changed.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>x</strong> the x-origin of the sub-surface from the top-left of the target surface (in device-space units)</li><li><strong>y</strong> the y-origin of the sub-surface from the top-left of the target surface (in device-space units)</li><li><strong>width</strong> width of the sub-surface (in device-space units)</li><li><strong>height</strong> height of the sub-surface (in device-space units)</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A pointer to the newly allocated surface. The caller owns the surface and should call <code><a href="../Cairo/Surface.html#finalize-instance-method">Surface#finalize</a></code> when done with it.</p>

<p>This function always returns a valid pointer, but it will return a pointer to a "nil" surface
if other is already in an error state or any other error occurs.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L292" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="create_observer(mode:SurfaceObserverMode):Surface-instance-method">
      <div class="signature">
        
        def <strong>create_observer</strong>(mode : <a href="../Cairo/SurfaceObserverMode.html">SurfaceObserverMode</a>) : <a href="../Cairo/Surface.html">Surface</a>

        <a class="method-permalink" href="#create_observer(mode:SurfaceObserverMode):Surface-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L296" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="create_similar(content:Content,width:Int32,height:Int32):Surface-instance-method">
      <div class="signature">
        
        def <strong>create_similar</strong>(content : <a href="../Cairo/Content.html">Content</a>, width : Int32, height : Int32) : <a href="../Cairo/Surface.html">Surface</a>

        <a class="method-permalink" href="#create_similar(content:Content,width:Int32,height:Int32):Surface-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Create a new surface that is as compatible as possible with an existing surface.
For example the new surface will have the same device scale, fallback resolution
and font options as <code>self</code>. Generally, the new surface will also use the same backend as <code>self</code>,
unless that is not possible for some reason.
The type of the returned surface may be examined with <code><a href="../Cairo/Surface.html#type:SurfaceType-instance-method">Surface#type</a></code>.</p>

<p>Initially the surface contents are all 0 (transparent if contents have transparency, black otherwise.)</p>

<p>Use <code><a href="../Cairo/Surface.html#create_similar_image(format:Format,width:Int32,height:Int32):Surface-instance-method">Surface#create_similar_image</a></code> if you need an image surface which can be painted quickly to the target surface.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>content</strong> the content for the new surface</li><li><strong>width</strong> width of the new surface, (in device-space units)</li><li><strong>height</strong> height of the new surface (in device-space units)</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A pointer to the newly allocated surface. The caller owns the surface and should
call <code><a href="../Cairo/Surface.html#finalize-instance-method">Surface#finalize</a></code> when done with it.</p>

<p>This function always returns a valid pointer, but it will return a pointer to a "nil" surface
if other is already in an error state or any other error occurs.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L206" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="create_similar_image(format:Format,width:Int32,height:Int32):Surface-instance-method">
      <div class="signature">
        
        def <strong>create_similar_image</strong>(format : <a href="../Cairo/Format.html">Format</a>, width : Int32, height : Int32) : <a href="../Cairo/Surface.html">Surface</a>

        <a class="method-permalink" href="#create_similar_image(format:Format,width:Int32,height:Int32):Surface-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Create a new image surface that is as compatible as possible for uploading to and the use
in conjunction with an existing surface. However, this surface can still be used like any
normal image surface. Unlike <code><a href="../Cairo/Surface.html#create_similar(content:Content,width:Int32,height:Int32):Surface-instance-method">Surface#create_similar</a></code> the new image surface won't inherit the device scale from <code>self</code>.</p>

<p>Initially the surface contents are all 0 (transparent if contents have transparency, black otherwise.)</p>

<p>Use <code><a href="../Cairo/Surface.html#create_similar(content:Content,width:Int32,height:Int32):Surface-instance-method">Surface#create_similar</a></code> if you don't need an image surface.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>format</strong> the format for the new surface</li><li><strong>width</strong> width of the new surface, (in pixels)</li><li><strong>height</strong> height of the new surface (in pixels)</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A pointer to the newly allocated image surface.
The caller owns the surface and should call <code>Surface#finalizte</code> when done with it.</p>

<p>This function always returns a valid pointer, but it will return a pointer to a "nil" surface
if other is already in an error state or any other error occurs.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L229" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="data:Pointer(UInt8)-instance-method">
      <div class="signature">
        
        def <strong>data</strong> : Pointer(UInt8)

        <a class="method-permalink" href="#data:Pointer(UInt8)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Get a pointer to the data of the image surface, for direct inspection or
modification.</p>

<p>A call to <code><a href="../Cairo/Surface.html#flush-instance-method">Surface#flush</a></code> is required before accessing the pixel data to
ensure that all pending drawing operations are finished. A call to
<code><a href="../Cairo/Surface.html#mark_dirty-instance-method">Surface#mark_dirty</a></code> is required after the data is modified.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A pointer to the image data of this surface or <code>nil</code> if surface is not
an image surface, or if <code><a href="../Cairo/Surface.html#finish-instance-method">Surface#finish</a></code> has been called.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L737" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="device:Device-instance-method">
      <div class="signature">
        
        def <strong>device</strong> : <a href="../Cairo/Device.html">Device</a>

        <a class="method-permalink" href="#device:Device-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>This function returns the device for a surface. See <code><a href="../Cairo/Device.html">Device</a></code>.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The device for surface or <code>Nil</code> if the surface does not have an associated device.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L364" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="device_offset:Point-instance-method">
      <div class="signature">
        
        def <strong>device_offset</strong> : <a href="../Cairo/Point.html">Point</a>

        <a class="method-permalink" href="#device_offset:Point-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>This function returns the previous device offset set by <code><a href="../Cairo/Surface.html#device_offset=(offset:Point)-instance-method">Surface#device_offset=</a></code>.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A <code><a href="../Cairo/Point.html">Point</a></code> contains <strong>x</strong> and <strong>y</strong> offset in device units</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L633" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="device_offset=(offset:Point)-instance-method">
      <div class="signature">
        
        def <strong>device_offset=</strong>(offset : <a href="../Cairo/Point.html">Point</a>)

        <a class="method-permalink" href="#device_offset=(offset:Point)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Sets an offset that is added to the device coordinates determined by the CTM when drawing to surface.
One use case for this function is when we want to create a <code><a href="../Cairo/Surface.html">Surface</a></code> that redirects drawing for
a portion of an onscreen surface to an offscreen surface in a way that is completely invisible
to the user of the cairo API. Setting a transformation via <code><a href="../Cairo/Context.html#translate(tx:Float64,ty:Float64)-instance-method">Context#translate</a></code> isn't sufficient to do this,
since functions like <code><a href="../Cairo/Context.html#device_to_user(p:Point):Point-instance-method">Context#device_to_user</a></code> will expose the hidden offset.</p>

<p><span class="flag purple">NOTE</span>  that the offset affects drawing to the surface as well as using the surface in a source pattern.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>offset.x</strong> the offset in the X direction, in device units</li><li><strong>offset.y</strong> the offset in the Y direction, in device units</li></ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L649" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="device_scale:Point-instance-method">
      <div class="signature">
        
        def <strong>device_scale</strong> : <a href="../Cairo/Point.html">Point</a>

        <a class="method-permalink" href="#device_scale:Point-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>This function returns the previous device offset set by <code><a href="../Cairo/Surface.html#device_scale=(scale:Point)-instance-method">Surface#device_scale=</a></code>.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A <code><a href="../Cairo/Point.html">Point</a></code> contains <strong>x</strong> and <strong>y</strong> scale in device units</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L592" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="device_scale=(scale:Point)-instance-method">
      <div class="signature">
        
        def <strong>device_scale=</strong>(scale : <a href="../Cairo/Point.html">Point</a>)

        <a class="method-permalink" href="#device_scale=(scale:Point)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Sets a scale that is multiplied to the device coordinates determined by the CTM when drawing to surface.
One common use for this is to render to very high resolution display devices at a scale factor,
so that code that assumes 1 pixel will be a certain size will still work.
Setting a transformation via Context#translate` isn't sufficient to do this,
since functions like <code><a href="../Cairo/Context.html#device_to_user(p:Point):Point-instance-method">Context#device_to_user</a></code> will expose the hidden scale.</p>

<p><span class="flag purple">NOTE</span>  that the scale affects drawing to the surface as well as using the surface in a source pattern.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>scale.x</strong> a scale factor in the X direction</li><li><strong>scale.y</strong> a scale factor in the Y direction</li></ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L608" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="extents:NamedTuple()-instance-method">
      <div class="signature">
        
        def <strong>extents</strong> : NamedTuple()

        <a class="method-permalink" href="#extents:NamedTuple()-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Get the extents of the recording-surface.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<ul><li><strong>extents</strong> the <code><a href="../Cairo/Rectangle.html">Rectangle</a></code> to be assigned the extents</li><li><strong>bounded</strong> <code>true</code> if the surface is bounded,
of recording type, and not in an error state, otherwise <code>false</code></li></ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L775" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="fallback_resolution:Point-instance-method">
      <div class="signature">
        
        def <strong>fallback_resolution</strong> : <a href="../Cairo/Point.html">Point</a>

        <a class="method-permalink" href="#fallback_resolution:Point-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>This function returns the previous fallback resolution set by
<code><a href="../Cairo/Surface.html#fallback_resolution=(res:Point)-instance-method">Surface#fallback_resolution=</a></code>, or default fallback resolution if never set.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A <code><a href="../Cairo/Point.html">Point</a></code> contains <strong>x</strong> for horizontal and <strong>y</strong> for vertical pixels per inch.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L664" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="fallback_resolution=(res:Point)-instance-method">
      <div class="signature">
        
        def <strong>fallback_resolution=</strong>(res : <a href="../Cairo/Point.html">Point</a>)

        <a class="method-permalink" href="#fallback_resolution=(res:Point)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Set the horizontal and vertical resolution for image fallbacks.</p>

<p>When certain operations aren't supported natively by a backend,
cairo will fallback by rendering operations to an image and then overlaying that image onto the output.
For backends that are natively vector-oriented, this function can be used to set the resolution used
for these image fallbacks, (larger values will result in more detailed images, but also larger file sizes).</p>

<p>Some examples of natively vector-oriented backends are the ps, pdf, and svg backends.</p>

<p>For backends that are natively raster-oriented, image fallbacks are still possible,
but they are always performed at the native device resolution. So this function has no effect on those backends.</p>

<p><span class="flag purple">NOTE</span>  The fallback resolution only takes effect at the time of completing a page
(with <code><a href="../Cairo/Context.html#show_page-instance-method">Context#show_page</a></code> or <code><a href="../Cairo/Context.html#copy_page-instance-method">Context#copy_page</a></code>) so there is currently no way to
have more than one fallback resolution in effect on a single page.</p>

<p>The default fallback resoultion is 300 pixels per inch in both dimensions.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>res.x</strong> horizontal setting for pixels per inch</li><li><strong>res.y</strong> vertical setting for pixels per inch</li></ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L690" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="finalize-instance-method">
      <div class="signature">
        
        def <strong>finalize</strong>

        <a class="method-permalink" href="#finalize-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Decreases the reference count on surface by one. If the result is zero,
then surface and all associated resources are freed. See <code><a href="../Cairo/Surface.html#reference:Surface-instance-method">Surface#reference</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L181" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="finish-instance-method">
      <div class="signature">
        
        def <strong>finish</strong>

        <a class="method-permalink" href="#finish-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>This function finishes the surface and drops all references to external resources.
For example, for the Xlib backend it means that cairo will no longer access the drawable,
which can be freed. After calling <code><a href="../Cairo/Surface.html#finish-instance-method">Surface#finish</a></code> the only valid operations on a surface
are getting and setting user, referencing and destroying, and flushing and finishing it.
Further drawing to the surface will not affect the surface but will instead trigger a <code><a href="../Cairo/Status.html#SurfaceFinished">Status::SurfaceFinished</a></code> error.</p>

<p>When the last call to <code><a href="../Cairo/Surface.html#finalize-instance-method">Surface#finalize</a></code> decreases the reference count to zero, cairo will call
<code><a href="../Cairo/Surface.html#finish-instance-method">Surface#finish</a></code> if it hasn't been called already, before freeing the resources associated with the surface.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L355" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="flush-instance-method">
      <div class="signature">
        
        def <strong>flush</strong>

        <a class="method-permalink" href="#flush-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Do any pending drawing for the surface and also restore any temporary modifications cairo has made to the surface's state.
This function must be called before switching from drawing on the surface with cairo to drawing on it directly with native APIs,
or accessing its memory outside of Cairo. If the surface doesn't support direct access, then this function does nothing.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L541" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="font_options:FontOptions-instance-method">
      <div class="signature">
        
        def <strong>font_options</strong> : <a href="../Cairo/FontOptions.html">FontOptions</a>

        <a class="method-permalink" href="#font_options:FontOptions-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Retrieves the default font rendering options for the surface.
This allows display surfaces to report the correct subpixel order for rendering on them,
print surfaces to disable hinting of metrics and so forth.
The result can then be used with <code>ScaledFont#initialize</code>.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A <code><a href="../Cairo/FontOptions.html">FontOptions</a></code> object into which to store the retrieved options. All existing values are overwritten.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L532" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="format:Format-instance-method">
      <div class="signature">
        
        def <strong>format</strong> : <a href="../Cairo/Format.html">Format</a>

        <a class="method-permalink" href="#format:Format-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Get the format of the surface.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The format of the surface.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L745" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="has_show_text_glyphs?:Bool-instance-method">
      <div class="signature">
        
        def <strong>has_show_text_glyphs?</strong> : Bool

        <a class="method-permalink" href="#has_show_text_glyphs?:Bool-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns whether the surface supports sophisticated <code><a href="../Cairo/Context.html#show_text_glyphs(text:String,glyphs:GlyphArray,clusters:TextClusterArray,cluster_flags:TextClusterFlags)-instance-method">Context#show_text_glyphs</a></code> operations.
That is, whether it actually uses the provided text and cluster data to a <code><a href="../Cairo/Context.html#show_text_glyphs(text:String,glyphs:GlyphArray,clusters:TextClusterArray,cluster_flags:TextClusterFlags)-instance-method">Context#show_text_glyphs</a></code> call.</p>

<p><span class="flag purple">NOTE</span>  Even if this function returns <code>false</code>, a <code><a href="../Cairo/Context.html#show_text_glyphs(text:String,glyphs:GlyphArray,clusters:TextClusterArray,cluster_flags:TextClusterFlags)-instance-method">Context#show_text_glyphs</a></code> operation targeted at surface will
still succeed. It just will act like a <code><a href="../Cairo/Context.html#show_glyphs(glyphs:GlyphArray)-instance-method">Context#show_glyphs</a></code> operation.
Users can use this function to avoid computing UTF-8 text and cluster mapping if the target surface does not use it.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p><code>true</code> if surface supports <code><a href="../Cairo/Context.html#show_text_glyphs(text:String,glyphs:GlyphArray,clusters:TextClusterArray,cluster_flags:TextClusterFlags)-instance-method">Context#show_text_glyphs</a></code>, <code>false</code> otherwise.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L723" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="height:Int32-instance-method">
      <div class="signature">
        
        def <strong>height</strong> : Int32

        <a class="method-permalink" href="#height:Int32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Get the height of the image surface in pixels.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The height of the surface in pixels.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L761" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="ink_extents:Rectangle-instance-method">
      <div class="signature">
        
        def <strong>ink_extents</strong> : <a href="../Cairo/Rectangle.html">Rectangle</a>

        <a class="method-permalink" href="#ink_extents:Rectangle-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Measures the extents of the operations stored within the recording-surface.
This is useful to compute the required size of an image surface
(or equivalent) into which to replay the full sequence of drawing operations.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A <code><a href="../Cairo/Rectangle.html">Rectangle</a></code> of ink bounding-box.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L775" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="map_to_image(extents:RectangleInt?):Surface-instance-method">
      <div class="signature">
        
        def <strong>map_to_image</strong>(extents : <a href="../Cairo/RectangleInt.html">RectangleInt</a>?) : <a href="../Cairo/Surface.html">Surface</a>

        <a class="method-permalink" href="#map_to_image(extents:RectangleInt?):Surface-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns an image surface that is the most efficient mechanism for modifying the backing store of the target surface.
The region retrieved may be limited to the extents or <code>nil</code> for the whole surface</p>

<p><span class="flag purple">NOTE</span> , the use of the original surface as a target or source whilst it is mapped is undefined.
The result of mapping the surface multiple times is undefined. Calling <code><a href="../Cairo/Surface.html#finalize-instance-method">Surface#finalize</a></code> or
<code><a href="../Cairo/Surface.html#finish-instance-method">Surface#finish</a></code> on the resulting image surface results in undefined behavior.
Changing the device transform of the image surface or of surface before the image surface is unmapped results in undefined behavior.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>extents</strong> limit the extraction to an rectangular region</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>A pointer to the newly allocated image surface. The caller must use <code><a href="../Cairo/Surface.html#unmap_image(image:Surface)-instance-method">Surface#unmap_image</a></code> to destroy this image surface.</p>

<p>This function always returns a valid pointer, but it will return a pointer to a "nil" surface if other is already in
an error state or any other error occurs. If the returned pointer does not have an error status,
it is guaranteed to be an image surface whose format is not <code><a href="../Cairo/Format.html#Invalid">Format::Invalid</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L250" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="mark_dirty-instance-method">
      <div class="signature">
        
        def <strong>mark_dirty</strong>

        <a class="method-permalink" href="#mark_dirty-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Tells cairo that drawing has been done to surface using means other than cairo,
and that cairo should reread any cached areas.</p>

<p><span class="flag purple">NOTE</span>  that you must call <code><a href="../Cairo/Surface.html#flush-instance-method">Surface#flush</a></code> before doing such drawing.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L549" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="mark_dirty_rectangle(x:Int32,y:Int32,width:Int32,height:Int32)-instance-method">
      <div class="signature">
        
        def <strong>mark_dirty_rectangle</strong>(x : Int32, y : Int32, width : Int32, height : Int32)

        <a class="method-permalink" href="#mark_dirty_rectangle(x:Int32,y:Int32,width:Int32,height:Int32)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Like <code><a href="../Cairo/Surface.html#mark_dirty-instance-method">Surface#mark_dirty</a></code>, but drawing has been done only to the specified rectangle,
so that cairo can retain cached contents for other parts of the surface.</p>

<p>Any cached clip set on the surface will be reset by this function,
to make sure that future cairo calls have the clip set that they expect.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>x</strong> X coordinate of dirty rectangle</li><li><strong>y</strong> Y coordinate of dirty rectangle</li><li><strong>width</strong> width of dirty rectangle</li><li><strong>height</strong> height of dirty rectangle</li></ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L565" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="mime_data(mime_type:String):Bytes-instance-method">
      <div class="signature">
        
        def <strong>mime_data</strong>(mime_type : String) : Bytes

        <a class="method-permalink" href="#mime_data(mime_type:String):Bytes-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Return mime data previously attached to surface using the specified mime type.
If no data has been attached with the given mime type, data is set empty.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>mime_type</strong> the mime type of the image data</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The image data to attached to the surface.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L474" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_add_fill_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method">
      <div class="signature">
        
        def <strong>observer_add_fill_callback</strong>(func : LibCairo::SurfaceObserverCallbackT, data : Pointer(Void)) : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#observer_add_fill_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L308" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_add_finish_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method">
      <div class="signature">
        
        def <strong>observer_add_finish_callback</strong>(func : LibCairo::SurfaceObserverCallbackT, data : Pointer(Void)) : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#observer_add_finish_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L324" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_add_flush_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method">
      <div class="signature">
        
        def <strong>observer_add_flush_callback</strong>(func : LibCairo::SurfaceObserverCallbackT, data : Pointer(Void)) : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#observer_add_flush_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L320" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_add_glyphs_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method">
      <div class="signature">
        
        def <strong>observer_add_glyphs_callback</strong>(func : LibCairo::SurfaceObserverCallbackT, data : Pointer(Void)) : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#observer_add_glyphs_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L316" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_add_mask_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method">
      <div class="signature">
        
        def <strong>observer_add_mask_callback</strong>(func : LibCairo::SurfaceObserverCallbackT, data : Pointer(Void)) : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#observer_add_mask_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L304" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_add_paint_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method">
      <div class="signature">
        
        def <strong>observer_add_paint_callback</strong>(func : LibCairo::SurfaceObserverCallbackT, data : Pointer(Void)) : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#observer_add_paint_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L300" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_add_stroke_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method">
      <div class="signature">
        
        def <strong>observer_add_stroke_callback</strong>(func : LibCairo::SurfaceObserverCallbackT, data : Pointer(Void)) : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#observer_add_stroke_callback(func:LibCairo::SurfaceObserverCallbackT,data:Pointer(Void)):Status-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L312" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_elapsed:Float64-instance-method">
      <div class="signature">
        
        def <strong>observer_elapsed</strong> : Float64

        <a class="method-permalink" href="#observer_elapsed:Float64-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L332" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_print(write_func:LibCairo::WriteFuncT,closure:Pointer(Void)):Status-instance-method">
      <div class="signature">
        
        def <strong>observer_print</strong>(write_func : LibCairo::WriteFuncT, closure : Pointer(Void)) : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#observer_print(write_func:LibCairo::WriteFuncT,closure:Pointer(Void)):Status-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L328" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="reference:Surface-instance-method">
      <div class="signature">
        
        def <strong>reference</strong> : <a href="../Cairo/Surface.html">Surface</a>

        <a class="method-permalink" href="#reference:Surface-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Increases the reference count on surface by one.
This prevents surface from being destroyed until a matching call to <code><a href="../Cairo/Surface.html#finalize-instance-method">Surface#finalize</a></code> is made.</p>

<p>Use <code><a href="../Cairo/Surface.html#reference_count:UInt32-instance-method">Surface#reference_count</a></code> to get the number of references to a <code><a href="../Cairo/Surface.html">Surface</a></code>.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The referenced <code><a href="../Cairo/Surface.html">Surface</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L343" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="reference_count:UInt32-instance-method">
      <div class="signature">
        
        def <strong>reference_count</strong> : UInt32

        <a class="method-permalink" href="#reference_count:UInt32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the current reference count of surface.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The current reference count of surface. If the object is a <code>nil</code> object, 0 will be returned.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L372" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="set_device_offset(x_offset:Float64,y_offset:Float64)-instance-method">
      <div class="signature">
        
        def <strong>set_device_offset</strong>(x_offset : Float64, y_offset : Float64)

        <a class="method-permalink" href="#set_device_offset(x_offset:Float64,y_offset:Float64)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Sets an offset that is added to the device coordinates determined by the CTM when drawing to surface.
One use case for this function is when we want to create a <code><a href="../Cairo/Surface.html">Surface</a></code> that redirects drawing for
a portion of an onscreen surface to an offscreen surface in a way that is completely invisible
to the user of the cairo API. Setting a transformation via <code><a href="../Cairo/Context.html#translate(tx:Float64,ty:Float64)-instance-method">Context#translate</a></code> isn't sufficient to do this,
since functions like <code><a href="../Cairo/Context.html#device_to_user(p:Point):Point-instance-method">Context#device_to_user</a></code> will expose the hidden offset.</p>

<p><span class="flag purple">NOTE</span>  that the offset affects drawing to the surface as well as using the surface in a source pattern.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>x_offset</strong> the offset in the X direction, in device units</li><li><strong>y_offset</strong> the offset in the Y direction, in device units</li></ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L624" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="set_device_scale(x_scale:Float64,y_scale:Float64)-instance-method">
      <div class="signature">
        
        def <strong>set_device_scale</strong>(x_scale : Float64, y_scale : Float64)

        <a class="method-permalink" href="#set_device_scale(x_scale:Float64,y_scale:Float64)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Sets a scale that is multiplied to the device coordinates determined by
the CTM when drawing to <code><a href="../Cairo/Surface.html">Surface</a></code>. One common use for this is to render
to very high resolution display devices at a scale factor, so that code
that assumes 1 pixel will be a certain size will still work. Setting a
transformation via <code><a href="../Cairo/Context.html#translate(tx:Float64,ty:Float64)-instance-method">Context#translate</a></code> isn't sufficient to do this,
since functions like <code><a href="../Cairo/Context.html#device_to_user(p:Point):Point-instance-method">Context#device_to_user</a></code> will expose the hidden scale.</p>

<p><span class="flag purple">NOTE</span>  that the scale affects drawing to the surface as well as using
the surface in a source pattern.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>x_scale</strong> a scale factor in the X direction</li><li><strong>y_scale</strong> a scale factor in the Y direction</li></ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L583" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="set_fallback_resolution(x_pixels_per_inch:Float64,y_pixels_per_inch:Float64)-instance-method">
      <div class="signature">
        
        def <strong>set_fallback_resolution</strong>(x_pixels_per_inch : Float64, y_pixels_per_inch : Float64)

        <a class="method-permalink" href="#set_fallback_resolution(x_pixels_per_inch:Float64,y_pixels_per_inch:Float64)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L654" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="set_mime_data(mime_type:String,data:Bytes,destroy:LibCairo::DestroyFuncT,closure:Pointer(Void)):Status-instance-method">
      <div class="signature">
        
        def <strong>set_mime_data</strong>(mime_type : String, data : Bytes, destroy : LibCairo::DestroyFuncT, closure : Pointer(Void)) : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#set_mime_data(mime_type:String,data:Bytes,destroy:LibCairo::DestroyFuncT,closure:Pointer(Void)):Status-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Attach an image in the format <em>mime_type</em> to surface.
To remove the data from a surface, call this function with same mime type and empty <em>data</em>.</p>

<p>The attached image (or filename) data can later be used by backends which support it
(currently: PDF, PS, SVG and Win32 Printing surfaces) to emit this data instead of making a snapshot of the surface.
This approach tends to be faster and requires less memory and disk space.</p>

<p>The recognized MIME types are the following: <code><a href="../Cairo/C/LibCairo.html#MIME_TYPE_JPEG">LibCairo::MIME_TYPE_JPEG</a></code>, <code>LibCaito::MIME_TYPE_PNG</code>,
<code><a href="../Cairo/C/LibCairo.html#MIME_TYPE_JP2">LibCairo::MIME_TYPE_JP2</a></code>, <code><a href="../Cairo/C/LibCairo.html#MIME_TYPE_URI">LibCairo::MIME_TYPE_URI</a></code>, <code><a href="../Cairo/C/LibCairo.html#MIME_TYPE_UNIQUE_ID">LibCairo::MIME_TYPE_UNIQUE_ID</a></code>,
<code><a href="../Cairo/C/LibCairo.html#MIME_TYPE_JBIG2">LibCairo::MIME_TYPE_JBIG2</a></code>, <code><a href="../Cairo/C/LibCairo.html#MIME_TYPE_JBIG2_GLOBAL">LibCairo::MIME_TYPE_JBIG2_GLOBAL</a></code>, <code><a href="../Cairo/C/LibCairo.html#MIME_TYPE_JBIG2_GLOBAL_ID">LibCairo::MIME_TYPE_JBIG2_GLOBAL_ID</a></code>,
<code><a href="../Cairo/C/LibCairo.html#MIME_TYPE_CCITT_FAX">LibCairo::MIME_TYPE_CCITT_FAX</a></code>, <code><a href="../Cairo/C/LibCairo.html#MIME_TYPE_CCITT_FAX_PARAMS">LibCairo::MIME_TYPE_CCITT_FAX_PARAMS</a></code>.</p>

<p>See corresponding backend surface docs for details about which MIME types it can handle.
Caution: the associated MIME data will be discarded if you draw on the surface afterwards. Use this function with care.</p>

<p>Even if a backend supports a MIME type, that does not mean cairo will always be able to use the attached MIME data.
For example, if the backend does not natively support the compositing operation used to apply the MIME data to the backend.
In that case, the MIME data will be ignored. Therefore, to apply an image in all cases, it is best to create an image surface
which contains the decoded image data and then attach the MIME data to that.
This ensures the image will always be used while still allowing the MIME data to be used whenever possible.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>mime_type</strong> the MIME type of the image data</li><li><strong>data</strong> the image data to attach to the surface</li><li><strong>destroy</strong> a <code>LibCairo::DestroyFuncT</code> which will be called when the surface is
destroyed or when new image data is attached using the same mime type.</li><li><strong>closure</strong> the data to be passed to the destroy notifier</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p><code><a href="../Cairo/Status.html#Success">Status::Success</a></code> or <code><a href="../Cairo/Status.html#NoMemory">Status::NoMemory</a></code> if a slot could not be allocated for the user data.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L509" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="set_user_data(key:UserDataKey,user_data:Pointer(Void),destroy:LibCairo::DestroyFuncT):Status-instance-method">
      <div class="signature">
        
        def <strong>set_user_data</strong>(key : <a href="../Cairo/UserDataKey.html">UserDataKey</a>, user_data : Pointer(Void), destroy : LibCairo::DestroyFuncT) : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#set_user_data(key:UserDataKey,user_data:Pointer(Void),destroy:LibCairo::DestroyFuncT):Status-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Attach user data to surface. To remove user data from a surface,
call this function with the key that was used to set it and <code>Nil</code> for data .</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>key</strong> the address of a <code><a href="../Cairo/UserDataKey.html">UserDataKey</a></code> to attach the user data to</li><li><strong>user_data</strong> the user data to attach to the surface</li><li><strong>destroy</strong> a <code>LibCairo::DestroyFuncT</code> which will be called when the surface is
destroyed or when new user data is attached using the same key.</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p><code>Status#Success</code> or <code><a href="../Cairo/Status.html#NoMemory">Status::NoMemory</a></code> if a slot could not be allocated for the user data.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L462" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="status:Status-instance-method">
      <div class="signature">
        
        def <strong>status</strong> : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#status:Status-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Checks whether an error has previously occurred for this surface.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p><code><a href="../Cairo/Status.html#Success">Status::Success</a></code>, <code><a href="../Cairo/Status.html#NullPointer">Status::NullPointer</a></code>, <code><a href="../Cairo/Status.html#NoMemory">Status::NoMemory</a></code>, <code><a href="../Cairo/Status.html#ReadError">Status::ReadError</a></code>,
<code><a href="../Cairo/Status.html#InvalidContent">Status::InvalidContent</a></code>, <code><a href="../Cairo/Status.html#InvalidFormat">Status::InvalidFormat</a></code>, or <code><a href="../Cairo/Status.html#InvalidVisual">Status::InvalidVisual</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L381" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="stride:Int32-instance-method">
      <div class="signature">
        
        def <strong>stride</strong> : Int32

        <a class="method-permalink" href="#stride:Int32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Get the stride of the image surface in bytes.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The stride of the image surface in bytes (or 0 if <em>surface</em> is not
an image surface). The stride is the distance in bytes from the beginning
of one row of the image data to the beginning of the next row.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L771" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="supports_mime_type?(mime_type:String):Bool-instance-method">
      <div class="signature">
        
        def <strong>supports_mime_type?</strong>(mime_type : String) : Bool

        <a class="method-permalink" href="#supports_mime_type?(mime_type:String):Bool-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Return whether surface supports <em>mime_type</em>.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>mime_type</strong> the mime type</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p><code>true</code> if surface supports <em>mime_type</em>, <code>false</code> otherwise.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L521" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="surface_show_page-instance-method">
      <div class="signature">
        
        def <strong>surface_show_page</strong>

        <a class="method-permalink" href="#surface_show_page-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Emits and clears the current page for backends that support multiple pages.
Use <code><a href="../Cairo/Surface.html#copy_page-instance-method">Surface#copy_page</a></code> if you don't want to clear the page.</p>

<p>There is a convenience function for this that takes a cairo_t, namely <code><a href="../Cairo/Context.html#show_page-instance-method">Context#show_page</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L709" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_unsafe:LibCairo::PSurfaceT-instance-method">
      <div class="signature">
        
        def <strong>to_unsafe</strong> : LibCairo::PSurfaceT

        <a class="method-permalink" href="#to_unsafe:LibCairo::PSurfaceT-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L801" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="type:SurfaceType-instance-method">
      <div class="signature">
        
        def <strong>type</strong> : <a href="../Cairo/SurfaceType.html">SurfaceType</a>

        <a class="method-permalink" href="#type:SurfaceType-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>This function returns the type of the backend used to create a surface. See <code><a href="../Cairo/SurfaceType.html">SurfaceType</a></code> for available types.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The type of surface.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L389" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="unmap_image(image:Surface)-instance-method">
      <div class="signature">
        
        def <strong>unmap_image</strong>(image : <a href="../Cairo/Surface.html">Surface</a>)

        <a class="method-permalink" href="#unmap_image(image:Surface)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Unmaps the image surface as returned from <code><a href="../Cairo/Surface.html#map_to_image(extents:RectangleInt?):Surface-instance-method">Surface#map_to_image</a></code>.</p>

<p>The content of the image will be uploaded to the target surface. Afterwards, the image is destroyed.</p>

<p>Using an image surface which wasn't returned by <code><a href="../Cairo/Surface.html#map_to_image(extents:RectangleInt?):Surface-instance-method">Surface#map_to_image</a></code> results in undefined behavior.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>image</strong> the currently mapped image</li></ul>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L266" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="user_data(key:UserDataKey):Pointer(Void)-instance-method">
      <div class="signature">
        
        def <strong>user_data</strong>(key : <a href="../Cairo/UserDataKey.html">UserDataKey</a>) : Pointer(Void)

        <a class="method-permalink" href="#user_data(key:UserDataKey):Pointer(Void)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Return user data previously attached to surface using the specified key.
If no user data has been attached with the given key this function returns <code>Nil</code>.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>key</strong> the address of the <code><a href="../Cairo/UserDataKey.html">UserDataKey</a></code> the user data was attached to</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The user data previously attached or <code>Nil</code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L447" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="width:Int32-instance-method">
      <div class="signature">
        
        def <strong>width</strong> : Int32

        <a class="method-permalink" href="#width:Int32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Get the width of the image surface in pixels.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The width of the surface in pixels.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L753" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="write_to_png(filename:String):Status-instance-method">
      <div class="signature">
        
        def <strong>write_to_png</strong>(filename : String) : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#write_to_png(filename:String):Status-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Writes the contents of surface to a new file filename as a PNG image.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>surface</strong> a <code><a href="../Cairo/Surface.html">Surface</a></code> with pixel contents</li><li><strong>filename</strong> the name of a file to write to;
on Windows this filename is encoded in UTF-8.</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p><code>Status#success</code> if the PNG file was written successfully.
Otherwise, <code>Status#NoMemory</code> if memory could not be allocated for the
operation or <code>Status#SurfaceTypeMismatch</code> if the surface does not have
pixel contents, or <code>Status#WriteError</code> if an I/O error occurs while
attempting to write the file, or <code>Status#PngError</code> if libpng returned an error.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L402" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="write_to_png_stream(write_func:LibCairo::WriteFuncT,closure:Pointer(Void)):Status-instance-method">
      <div class="signature">
        
        def <strong>write_to_png_stream</strong>(write_func : LibCairo::WriteFuncT, closure : Pointer(Void)) : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#write_to_png_stream(write_func:LibCairo::WriteFuncT,closure:Pointer(Void)):Status-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Writes the image surface to the write function.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>surface</strong> a <code><a href="../Cairo/Surface.html">Surface</a></code> with pixel contents</li><li><strong>write_func</strong> a <code><a href="../Cairo.html">Cairo</a>::C::LibCairo::WriteFuncT</code></li><li><strong>closure</strong> closure data for the write function</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p><code>Status#Success</code> if the PNG file was written successfully.
Otherwise, <code>Status#NoMemory</code> is returned if memory could not be allocated
for the operation, <code>Status#SurfaceTypeMismatch</code> if the surface does not
have pixel contents, or <code>Status#PngError</code> if libpng returned an error.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/6c77a4118a083d1d9bc0bd3e85477715422f1919/src/cairo/surface.cr#L402" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
