<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.36.1">
<meta name="crystal_docs.project_version" content="master">
<meta name="crystal_docs.project_name" content="cairo">



<link href="../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../js/doc.js"></script>

  <meta name="repository-name" content="cairo">
  <title>Cairo::Device - cairo master</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "../";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="../index.html">
          cairo
        </a>
      </h1>

      <span class="project-version">
        master
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="cairo/Cairo" data-name="cairo">
      <a href="../Cairo.html">Cairo</a>
      
        <ul>
  
  <li class=" " data-id="cairo/Cairo/Antialias" data-name="cairo::antialias">
      <a href="../Cairo/Antialias.html">Antialias</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/C" data-name="cairo::c">
      <a href="../Cairo/C.html">C</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/ColorStop" data-name="cairo::colorstop">
      <a href="../Cairo/ColorStop.html">ColorStop</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Content" data-name="cairo::content">
      <a href="../Cairo/Content.html">Content</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Context" data-name="cairo::context">
      <a href="../Cairo/Context.html">Context</a>
      
    </li>
  
  <li class=" current" data-id="cairo/Cairo/Device" data-name="cairo::device">
      <a href="../Cairo/Device.html">Device</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/DeviceType" data-name="cairo::devicetype">
      <a href="../Cairo/DeviceType.html">DeviceType</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Extend" data-name="cairo::extend">
      <a href="../Cairo/Extend.html">Extend</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Extents" data-name="cairo::extents">
      <a href="../Cairo/Extents.html">Extents</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/FillRule" data-name="cairo::fillrule">
      <a href="../Cairo/FillRule.html">FillRule</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Filter" data-name="cairo::filter">
      <a href="../Cairo/Filter.html">Filter</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/FontExtents" data-name="cairo::fontextents">
      <a href="../Cairo/FontExtents.html">FontExtents</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/FontFace" data-name="cairo::fontface">
      <a href="../Cairo/FontFace.html">FontFace</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/FontOptions" data-name="cairo::fontoptions">
      <a href="../Cairo/FontOptions.html">FontOptions</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/FontSlant" data-name="cairo::fontslant">
      <a href="../Cairo/FontSlant.html">FontSlant</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/FontType" data-name="cairo::fonttype">
      <a href="../Cairo/FontType.html">FontType</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/FontWeight" data-name="cairo::fontweight">
      <a href="../Cairo/FontWeight.html">FontWeight</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Format" data-name="cairo::format">
      <a href="../Cairo/Format.html">Format</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Glyph" data-name="cairo::glyph">
      <a href="../Cairo/Glyph.html">Glyph</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/GlyphArray" data-name="cairo::glypharray">
      <a href="../Cairo/GlyphArray.html">GlyphArray</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/HintMetrics" data-name="cairo::hintmetrics">
      <a href="../Cairo/HintMetrics.html">HintMetrics</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/HintStyle" data-name="cairo::hintstyle">
      <a href="../Cairo/HintStyle.html">HintStyle</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/LineCap" data-name="cairo::linecap">
      <a href="../Cairo/LineCap.html">LineCap</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/LineJoin" data-name="cairo::linejoin">
      <a href="../Cairo/LineJoin.html">LineJoin</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Matrix" data-name="cairo::matrix">
      <a href="../Cairo/Matrix.html">Matrix</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Operator" data-name="cairo::operator">
      <a href="../Cairo/Operator.html">Operator</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Path" data-name="cairo::path">
      <a href="../Cairo/Path.html">Path</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PathData" data-name="cairo::pathdata">
      <a href="../Cairo/PathData.html">PathData</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PathDataHeader" data-name="cairo::pathdataheader">
      <a href="../Cairo/PathDataHeader.html">PathDataHeader</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PathDataType" data-name="cairo::pathdatatype">
      <a href="../Cairo/PathDataType.html">PathDataType</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Pattern" data-name="cairo::pattern">
      <a href="../Cairo/Pattern.html">Pattern</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PatternType" data-name="cairo::patterntype">
      <a href="../Cairo/PatternType.html">PatternType</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PdfMetadata" data-name="cairo::pdfmetadata">
      <a href="../Cairo/PdfMetadata.html">PdfMetadata</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PdfOutlineFlags" data-name="cairo::pdfoutlineflags">
      <a href="../Cairo/PdfOutlineFlags.html">PdfOutlineFlags</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PdfSurface" data-name="cairo::pdfsurface">
      <a href="../Cairo/PdfSurface.html">PdfSurface</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PdfVersion" data-name="cairo::pdfversion">
      <a href="../Cairo/PdfVersion.html">PdfVersion</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Point" data-name="cairo::point">
      <a href="../Cairo/Point.html">Point</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PsLevel" data-name="cairo::pslevel">
      <a href="../Cairo/PsLevel.html">PsLevel</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/PsSurface" data-name="cairo::pssurface">
      <a href="../Cairo/PsSurface.html">PsSurface</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Rectangle" data-name="cairo::rectangle">
      <a href="../Cairo/Rectangle.html">Rectangle</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/RectangleInt" data-name="cairo::rectangleint">
      <a href="../Cairo/RectangleInt.html">RectangleInt</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/RectangleList" data-name="cairo::rectanglelist">
      <a href="../Cairo/RectangleList.html">RectangleList</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Region" data-name="cairo::region">
      <a href="../Cairo/Region.html">Region</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/RegionOverlap" data-name="cairo::regionoverlap">
      <a href="../Cairo/RegionOverlap.html">RegionOverlap</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/RGBA" data-name="cairo::rgba">
      <a href="../Cairo/RGBA.html">RGBA</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/ScaledFont" data-name="cairo::scaledfont">
      <a href="../Cairo/ScaledFont.html">ScaledFont</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Script" data-name="cairo::script">
      <a href="../Cairo/Script.html">Script</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/ScriptInterpreter" data-name="cairo::scriptinterpreter">
      <a href="../Cairo/ScriptInterpreter.html">ScriptInterpreter</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/ScriptMode" data-name="cairo::scriptmode">
      <a href="../Cairo/ScriptMode.html">ScriptMode</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Status" data-name="cairo::status">
      <a href="../Cairo/Status.html">Status</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/StatusException" data-name="cairo::statusexception">
      <a href="../Cairo/StatusException.html">StatusException</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/SubpixelOrder" data-name="cairo::subpixelorder">
      <a href="../Cairo/SubpixelOrder.html">SubpixelOrder</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/Surface" data-name="cairo::surface">
      <a href="../Cairo/Surface.html">Surface</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/SurfaceObserverMode" data-name="cairo::surfaceobservermode">
      <a href="../Cairo/SurfaceObserverMode.html">SurfaceObserverMode</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/SurfaceType" data-name="cairo::surfacetype">
      <a href="../Cairo/SurfaceType.html">SurfaceType</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/SvgSurface" data-name="cairo::svgsurface">
      <a href="../Cairo/SvgSurface.html">SvgSurface</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/SvgVersion" data-name="cairo::svgversion">
      <a href="../Cairo/SvgVersion.html">SvgVersion</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/TeeSurface" data-name="cairo::teesurface">
      <a href="../Cairo/TeeSurface.html">TeeSurface</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/TextCluster" data-name="cairo::textcluster">
      <a href="../Cairo/TextCluster.html">TextCluster</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/TextClusterArray" data-name="cairo::textclusterarray">
      <a href="../Cairo/TextClusterArray.html">TextClusterArray</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/TextClusterFlags" data-name="cairo::textclusterflags">
      <a href="../Cairo/TextClusterFlags.html">TextClusterFlags</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/TextExtents" data-name="cairo::textextents">
      <a href="../Cairo/TextExtents.html">TextExtents</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/UserDataKey" data-name="cairo::userdatakey">
      <a href="../Cairo/UserDataKey.html">UserDataKey</a>
      
    </li>
  
  <li class=" " data-id="cairo/Cairo/XlibSurface" data-name="cairo::xlibsurface">
      <a href="../Cairo/XlibSurface.html">XlibSurface</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> Cairo::Device

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../Cairo/Device.html">Cairo::Device</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p>Devices are the abstraction Cairo employs for the rendering system used by a <code><a href="../Cairo/Surface.html">Surface</a></code>.
You can get the device of a surface using <code><a href="../Cairo/Surface.html#device:Device-instance-method">Surface#device</a></code>.</p>

<p>Devices are created using custom functions specific to the rendering system you want to use.
See the documentation for the surface types for those functions.</p>

<p>An important function that devices fulfill is sharing access to the rendering system between
Cairo and your application. If you want to access a device directly that you used to draw to with Cairo,
you must first call <code><a href="../Cairo/Device.html#flush-instance-method">Device#flush</a></code> to ensure that Cairo finishes all operations on the device and resets it to a clean state.</p>

<p>Cairo also provides the functions <code><a href="../Cairo/Device.html#acquire:Status-instance-method">Device#acquire</a></code> and <code><a href="../Cairo/Device.html#release-instance-method">Device#release</a></code> to synchronize access to the
rendering system in a multithreaded environment. This is done internally, but can also be used by applications.</p>

<p>A <code><a href="../Cairo/Device.html">Device</a></code> represents the driver interface for drawing operations to a <code><a href="../Cairo/Surface.html">Surface</a></code>.
There are different subtypes of <code><a href="../Cairo/Device.html">Device</a></code> for different drawing backends.</p>

<p>The type of a device can be queried with <code><a href="../Cairo/Device.html#type:DeviceType-instance-method">Device#type</a></code>.</p>

<p>Memory management of <code><a href="../Cairo/Device.html">Device</a></code> is done with <code><a href="../Cairo/Device.html#reference:Device-instance-method">Device#reference</a></code> and <code><a href="../Cairo/Device.html#finalize-instance-method">Device#finalize</a></code>.</p>









  <h2>
    <a id="direct-known-subclasses" class="anchor" href="#direct-known-subclasses">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Direct Known Subclasses
  </h2>
  <ul class="other-types-list">
    
      <li class="other-type"><a href="../Cairo/Script.html">Cairo::Script</a></li>
    
  </ul>






  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L26" target="_blank">
        cairo/device.cr
      </a>
    
    <br/>
  





  <h2>
    <a id="constructors" class="anchor" href="#constructors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructors
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new(device:LibCairo::PDeviceT)-class-method" class="signature"><strong>.new</strong>(device : LibCairo::PDeviceT)</a>
        
      </li>
    
  </ul>





  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#acquire:Status-instance-method" class="signature"><strong>#acquire</strong> : Status</a>
        
          <div class="summary"><p>Acquires the device for the current thread.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#finalize-instance-method" class="signature"><strong>#finalize</strong></a>
        
          <div class="summary"><p>Decreases the reference count on device by one.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#finish-instance-method" class="signature"><strong>#finish</strong></a>
        
          <div class="summary"><p>This function finishes the device and drops all references to external resources.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#flush-instance-method" class="signature"><strong>#flush</strong></a>
        
          <div class="summary"><p>Finish any pending operations for the device and also restore any temporary modifications cairo has made to the device's state.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_elapsed:Float64-instance-method" class="signature"><strong>#observer_elapsed</strong> : Float64</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_fill_elapsed:Float64-instance-method" class="signature"><strong>#observer_fill_elapsed</strong> : Float64</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_glyphs_elapsed:Float64-instance-method" class="signature"><strong>#observer_glyphs_elapsed</strong> : Float64</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_mask_elapsed:Float64-instance-method" class="signature"><strong>#observer_mask_elapsed</strong> : Float64</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_paint_elapsed:Float64-instance-method" class="signature"><strong>#observer_paint_elapsed</strong> : Float64</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_print(write_func:LibCairo::WriteFuncT,closure:Pointer(Void)):Status-instance-method" class="signature"><strong>#observer_print</strong>(write_func : LibCairo::WriteFuncT, closure : Pointer(Void)) : Status</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#observer_stroke_elapsed:Float64-instance-method" class="signature"><strong>#observer_stroke_elapsed</strong> : Float64</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#reference:Device-instance-method" class="signature"><strong>#reference</strong> : Device</a>
        
          <div class="summary"><p>Increases the reference count on device by one.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#reference_count:UInt32-instance-method" class="signature"><strong>#reference_count</strong> : UInt32</a>
        
          <div class="summary"><p>Returns the current reference count of device.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#release-instance-method" class="signature"><strong>#release</strong></a>
        
          <div class="summary"><p>Releases a device previously acquired using <code><a href="../Cairo/Device.html#acquire:Status-instance-method">Device#acquire</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#set_user_data(key:UserDataKey,user_data:Pointer(Void),destroy:LibCairo::DestroyFuncT):Status-instance-method" class="signature"><strong>#set_user_data</strong>(key : UserDataKey, user_data : Pointer(Void), destroy : LibCairo::DestroyFuncT) : Status</a>
        
          <div class="summary"><p>Attach user data to device.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#status:Status-instance-method" class="signature"><strong>#status</strong> : Status</a>
        
          <div class="summary"><p>Checks whether an error has previously occurred for this device.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_unsafe:LibCairo::PDeviceT-instance-method" class="signature"><strong>#to_unsafe</strong> : LibCairo::PDeviceT</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#type:DeviceType-instance-method" class="signature"><strong>#type</strong> : DeviceType</a>
        
          <div class="summary"><p>This function returns the type of the device.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#user_data(key:UserDataKey):Pointer(Void)-instance-method" class="signature"><strong>#user_data</strong>(key : UserDataKey) : Pointer(Void)</a>
        
          <div class="summary"><p>Return user data previously attached to device using the specified key.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>


  <h2>
    <a id="constructor-detail" class="anchor" href="#constructor-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructor Detail
  </h2>
  
    <div class="entry-detail" id="new(device:LibCairo::PDeviceT)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(device : LibCairo::PDeviceT)

        <a class="method-permalink" href="#new(device:LibCairo::PDeviceT)-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L27" target="_blank">View source</a>]
        
      </div>
    </div>
  





  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="acquire:Status-instance-method">
      <div class="signature">
        
        def <strong>acquire</strong> : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#acquire:Status-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Acquires the device for the current thread. This function will block until no other thread has acquired the device.</p>

<p>If the return value is <code><a href="../Cairo/Status.html#Success">Status::Success</a></code>, you successfully acquired the device.
From now on your thread owns the device and no other thread will be able to acquire it until
a matching call to <code><a href="../Cairo/Device.html#release-instance-method">Device#release</a></code>. It is allowed to recursively acquire the device multiple times from the same thread.</p>

<p>You must never acquire two different devices at the same time unless this is explicitly allowed.
Otherwise the possibility of deadlocks exist. As various Cairo functions can acquire devices when called,
these functions may also cause deadlocks when you call them with an acquired device. So you must not have
a device acquired when calling them. These functions are marked in the documentation.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p><code><a href="../Cairo/Status.html#Success">Status::Success</a></code> on success or an error code if the device is in an error state and could not be acquired.
After a successful call to <code><a href="../Cairo/Device.html#acquire:Status-instance-method">Device#acquire</a></code>, a matching call to <code><a href="../Cairo/Device.html#release-instance-method">Device#release</a></code> is required.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L81" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="finalize-instance-method">
      <div class="signature">
        
        def <strong>finalize</strong>

        <a class="method-permalink" href="#finalize-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Decreases the reference count on device by one. If the result is zero,
then device and all associated resources are freed. See <code><a href="../Cairo/Device.html#reference:Device-instance-method">Device#reference</a></code>.</p>

<p>This function may acquire devices if the last reference was dropped.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L36" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="finish-instance-method">
      <div class="signature">
        
        def <strong>finish</strong>

        <a class="method-permalink" href="#finish-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>This function finishes the device and drops all references to external resources.
All surfaces, fonts and other objects created for this device will be finished, too.
Further operations on the device will not affect the device but will instead trigger a <code><a href="../Cairo/Status.html#DeviceFinished">Status::DeviceFinished</a></code> error.</p>

<p>When the last call to <code><a href="../Cairo/Device.html#finalize-instance-method">Device#finalize</a></code> decreases the reference count to zero,
cairo will call <code><a href="../Cairo/Device.html#finish-instance-method">Device#finish</a></code> if it hasn't been called already, before freeing the resources associated with the device.</p>

<p>This function may acquire devices.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L110" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="flush-instance-method">
      <div class="signature">
        
        def <strong>flush</strong>

        <a class="method-permalink" href="#flush-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Finish any pending operations for the device and also restore any temporary modifications
cairo has made to the device's state. This function must be called before switching from
using the device with Cairo to operating on it directly with native APIs.
If the device doesn't support direct access, then this function does nothing.</p>

<p>This function may acquire devices.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L97" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_elapsed:Float64-instance-method">
      <div class="signature">
        
        def <strong>observer_elapsed</strong> : Float64

        <a class="method-permalink" href="#observer_elapsed:Float64-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L155" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_fill_elapsed:Float64-instance-method">
      <div class="signature">
        
        def <strong>observer_fill_elapsed</strong> : Float64

        <a class="method-permalink" href="#observer_fill_elapsed:Float64-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L167" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_glyphs_elapsed:Float64-instance-method">
      <div class="signature">
        
        def <strong>observer_glyphs_elapsed</strong> : Float64

        <a class="method-permalink" href="#observer_glyphs_elapsed:Float64-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L175" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_mask_elapsed:Float64-instance-method">
      <div class="signature">
        
        def <strong>observer_mask_elapsed</strong> : Float64

        <a class="method-permalink" href="#observer_mask_elapsed:Float64-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L163" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_paint_elapsed:Float64-instance-method">
      <div class="signature">
        
        def <strong>observer_paint_elapsed</strong> : Float64

        <a class="method-permalink" href="#observer_paint_elapsed:Float64-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L159" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_print(write_func:LibCairo::WriteFuncT,closure:Pointer(Void)):Status-instance-method">
      <div class="signature">
        
        def <strong>observer_print</strong>(write_func : LibCairo::WriteFuncT, closure : Pointer(Void)) : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#observer_print(write_func:LibCairo::WriteFuncT,closure:Pointer(Void)):Status-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L151" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="observer_stroke_elapsed:Float64-instance-method">
      <div class="signature">
        
        def <strong>observer_stroke_elapsed</strong> : Float64

        <a class="method-permalink" href="#observer_stroke_elapsed:Float64-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L171" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="reference:Device-instance-method">
      <div class="signature">
        
        def <strong>reference</strong> : <a href="../Cairo/Device.html">Device</a>

        <a class="method-permalink" href="#reference:Device-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Increases the reference count on device by one. This prevents device from being destroyed until
a matching call to <code><a href="../Cairo/Device.html#finalize-instance-method">Device#finalize</a></code> is made.</p>

<p>Use <code><a href="../Cairo/Device.html#reference_count:UInt32-instance-method">Device#reference_count</a></code> to get the number of references to a <code><a href="../Cairo/Device.html">Device</a></code>.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The referenced <code><a href="../Cairo/Device.html">Device</a></code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L47" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="reference_count:UInt32-instance-method">
      <div class="signature">
        
        def <strong>reference_count</strong> : UInt32

        <a class="method-permalink" href="#reference_count:UInt32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the current reference count of device.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The current reference count of device. If the object is a <code>nil</code> object, 0 will be returned.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L119" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="release-instance-method">
      <div class="signature">
        
        def <strong>release</strong>

        <a class="method-permalink" href="#release-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Releases a device previously acquired using <code><a href="../Cairo/Device.html#acquire:Status-instance-method">Device#acquire</a></code>. See that function for details.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L86" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="set_user_data(key:UserDataKey,user_data:Pointer(Void),destroy:LibCairo::DestroyFuncT):Status-instance-method">
      <div class="signature">
        
        def <strong>set_user_data</strong>(key : <a href="../Cairo/UserDataKey.html">UserDataKey</a>, user_data : Pointer(Void), destroy : LibCairo::DestroyFuncT) : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#set_user_data(key:UserDataKey,user_data:Pointer(Void),destroy:LibCairo::DestroyFuncT):Status-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Attach user data to device. To remove user data from a surface, call this function with
the key that was used to set it and <code>Nil</code> for data.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>key</strong> the address of a <code><a href="../Cairo/UserDataKey.html">UserDataKey</a></code> to attach the user data to</li><li><strong>user_data</strong></li><li><strong>the</strong> user data to attach to the <code><a href="../Cairo/Device.html">Device</a></code></li><li><strong>destroy</strong> a <code>LibCairo::DestroyFuncT</code> which will be called when the <code><a href="../Cairo/Context.html">Context</a></code> is destroyed
or when new user data is attached using the same key.</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p><code><a href="../Cairo/Status.html#Success">Status::Success</a></code> or <code><a href="../Cairo/Status.html#NoMemory">Status::NoMemory</a></code> if a slot could not be allocated for the user data.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L147" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="status:Status-instance-method">
      <div class="signature">
        
        def <strong>status</strong> : <a href="../Cairo/Status.html">Status</a>

        <a class="method-permalink" href="#status:Status-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Checks whether an error has previously occurred for this device.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p><code>Status#Success</code> on success or an error code if the device is in an error state.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L63" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_unsafe:LibCairo::PDeviceT-instance-method">
      <div class="signature">
        
        def <strong>to_unsafe</strong> : LibCairo::PDeviceT

        <a class="method-permalink" href="#to_unsafe:LibCairo::PDeviceT-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L179" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="type:DeviceType-instance-method">
      <div class="signature">
        
        def <strong>type</strong> : <a href="../Cairo/DeviceType.html">DeviceType</a>

        <a class="method-permalink" href="#type:DeviceType-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>This function returns the type of the device. See <code><a href="../Cairo/DeviceType.html">DeviceType</a></code> for available types.</p>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The type of device.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L55" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="user_data(key:UserDataKey):Pointer(Void)-instance-method">
      <div class="signature">
        
        def <strong>user_data</strong>(key : <a href="../Cairo/UserDataKey.html">UserDataKey</a>) : Pointer(Void)

        <a class="method-permalink" href="#user_data(key:UserDataKey):Pointer(Void)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Return user data previously attached to device using the specified key.
If no user data has been attached with the given key this function returns <code>Nil</code>.</p>

<h3><a id="parameters" class="anchor" href="#parameters">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Parameters</h3>

<ul><li><strong>key</strong> the address of the UserDataKey the user data was attached to</li></ul>

<h3><a id="returns" class="anchor" href="#returns">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Returns</h3>

<p>The user data previously attached or <code>Nil</code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/TamasSzekeres/cairo-cr/blob/482e3fcc5e070212c53ef83af0a63a0fcc9be099/src/cairo/device.cr#L131" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
